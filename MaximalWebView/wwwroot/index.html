<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Hello, world!</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="./tailwind.css" />
</head>

<body class="p-6 bg-solarized-base03 text-white">

    <!--<script type="module">
            import { h, Component, render } from 'https://unpkg.com/preact?module';
            import htm from 'https://unpkg.com/htm?module';

            // Initialize htm with Preact
            const html = htm.bind(h);

            const app = html`
                <h1 class="mb-5 font-mono text-solarized-blue text-5xl">Hello, 💾!</h1>

                <p class="text-solarized-base2">This is a tiny .NET 6 Windows application hosting web UI in WebView2. No WinForms, no WPF, no WinUI - just a Win32 message pump.</p>

                <div class="space-x-2">

                <button id="btn1" class="bg-solarized-yellow hover:bg-solarized-cyan font-bold my-5 py-1 px-4 rounded-sm self-center">Click me to demo .NET-JS interop!</button>
                <button id="btn2" class="bg-solarized-orange hover:bg-solarized-cyan font-bold my-5 py-1 px-4 rounded-sm self-center">💾</button>

                </div>

                <img src="./homer.jpg"></img>
    `
            render(app, document.body);
        </script>-->
    <h1 class="mb-5 font-mono text-solarized-blue text-5xl">
        Blog.exe v0.1 💾
    </h1>

    <div class="text-solarized-base2 space-y-3">
        <p>I'm going to try blogging in a Windows app. Bear with me, but the tl;dr is that it's an interesting time to experiment at the intersection of native apps and web UI.</p>

        <h2 class="text-solarized-base3 font-bold">WebView2</h2>

        <p>
            Windows 11 ships with <a href="https://developer.microsoft.com/en-us/microsoft-edge/webview2/">WebView2</a>, a modern "webview" control based on Edge/Chromium.

            It's Windows-only for now, but <a class="underline text-blue-400" href="https://github.com/MicrosoftEdge/WebView2Feedback/issues/645#issuecomment-731474506">it will be coming to macOS and Linux soon</a>.
        </p>

        <p>
            WebView2 is <em>good Windows software</em>. It exposes a powerful but straightforward API over COM to any Windows application. It works all the way back to Windows 7.
            You can tell that Microsoft wants to make it easy to adopt WebView2, which is a breath of fresh air after the last decade.
        </p>

        <p>
            For many applications, WebView2 can deliver a better user experience than native UI frameworks - today. It can fill the same role as Electron with fewer downsides. I think people are sleeping on WebView2.
        </p>

        <h2 class="text-solarized-base3 font-bold">.NET</h2>
        <p>
            My day job happens to involve .NET, and the .NET team has been doing remarkable work in recent years. We're now able to ship small, fast, self-contained executables for any platform.

            It's a really fun time to be working in .NET... unless you want to build GUIs.

            UI has been a weak point for .NET since Microsoft abandoned WPF - but if our UI is all hosted in WebView2 that problem goes away!
        </p>

        <h2 class="text-solarized-base3 font-bold">What next?</h2>
        <p>
            I'm going to keep messing around with my <a href="https://github.com/rgwood/MinimalWebView">MinimalWebView</a> and <a href="https://github.com/rgwood/MaximalWebView">MaximalWebView</a>
            projects to host WebView2 in a .NET 6 exe. I'll try to document my progress by shipping "blog post" exes like this with demos for new functionality.
        </p>

        <p>Once WebView2 is available for Mac and Linux I'll look more seriously into porting to those platforms.</p>

        <p>I'd also like to ship something <em>useful</em> in this form factor soon. I have some ideas but I need to pick a JS data grid library first.</p>

        <p>The current names are placeholders, I'm not yet sure what to call these projects. Ideas are very welcome:</p>
        <img class="h-auto w-1/2 align-center" src="./homer.jpg" />

    </div>

    

    <!--<button id="btn1" class="bg-solarized-blue hover:bg-solarized-cyan font-bold my-5 py-1 px-4 rounded-md self-center">Beep boop</button>-->

    <div class="hidden border border-solarized-base01 text-sm rounded-sm border-2">
        <div id="header" class="bg-solarized-base02 grid" style="grid-template-columns: 100px 1fr auto">
            <span class="m-1 ml-2 font-sans" style="grid-column-start: 0; grid-column-end:1">Example Dialog</span>
            <button onclick="window.chrome.webview.postMessage('❌✖❎')" class="m-1" style="grid-column: 3">✖</button>
        </div>
        <div id="body" class="m-1 ml-2 font-mono text-gray-100">
            <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</div>
        </div>
    </div>

    <script>
        btn1.onclick = (event) => {
            window.chrome.webview.postMessage("😎💾😎");
        }
    </script>
</body>

</html>